{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/nicenicegame/Desktop/nice-workspace/bcbk2020-frontend/pages/_app.tsx\",\n    _this = this,\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useEffect, useMemo } from 'react';\nimport { Provider } from 'mobx-react';\nimport { NextSeo } from 'next-seo';\nimport App from 'next/app';\nimport RootLayout from 'core/components/RootLayout';\nimport { DEFAULT_LOCALE, STORAGE_LOCALE_KEY } from 'core/i18n/constants';\nimport useSetLocale from 'core/i18n/hooks/useSetLocale';\nimport getLocalStorage from 'core/localStorage/getLocalStorage';\nimport initializeStore from 'core/store/utils/initializeStore';\n\nvar MyApp = function MyApp(_ref) {\n  _s();\n\n  var Component = _ref.Component,\n      pageProps = _ref.pageProps,\n      stores = _ref.stores;\n  var setLocale = useSetLocale();\n  useEffect(function () {\n    var jssStyles = document.querySelector('#jss-server-side');\n    if (jssStyles && jssStyles.parentNode) jssStyles.parentNode.removeChild(jssStyles);\n  }, []);\n  var mobxStores = useMemo(function () {\n    var isServer = false;\n    return isServer ? stores : initializeStore(stores);\n  }, []);\n  var locale = useMemo(function () {\n    var isServer = false;\n    return isServer ? DEFAULT_LOCALE : getLocalStorage(STORAGE_LOCALE_KEY) || DEFAULT_LOCALE;\n  }, []);\n  useEffect(function () {\n    setLocale(locale);\n  }, [locale]);\n  return /*#__PURE__*/_jsxDEV(Provider, _objectSpread(_objectSpread({}, mobxStores), {}, {\n    children: /*#__PURE__*/_jsxDEV(RootLayout, {\n      children: [/*#__PURE__*/_jsxDEV(NextSeo, {\n        title: \"Barcamp Bangkhen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(Component, _objectSpread({}, pageProps), void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, _this)\n  }), void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(MyApp, \"YXdY/hM2V/HCtUkVkD3P3H1boBM=\", false, function () {\n  return [useSetLocale];\n});\n\n_c = MyApp;\n\nMyApp.getInitialProps = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(ctx) {\n    var stores, appProps;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            stores = initializeStore();\n            ctx.stores = stores;\n            _context.next = 4;\n            return App.getInitialProps(ctx);\n\n          case 4:\n            appProps = _context.sent;\n            return _context.abrupt(\"return\", _objectSpread(_objectSpread({}, appProps), {}, {\n              stores: stores\n            }));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function (_x) {\n    return _ref2.apply(this, arguments);\n  };\n}();\n\nexport default MyApp;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyApp\");","map":{"version":3,"sources":["/Users/nicenicegame/Desktop/nice-workspace/bcbk2020-frontend/pages/_app.tsx"],"names":["React","useEffect","useMemo","Provider","NextSeo","App","RootLayout","DEFAULT_LOCALE","STORAGE_LOCALE_KEY","useSetLocale","getLocalStorage","initializeStore","MyApp","Component","pageProps","stores","setLocale","jssStyles","document","querySelector","parentNode","removeChild","mobxStores","isServer","locale","getInitialProps","ctx","appProps"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,OAA3B,QAA0C,OAA1C;AAEA,SAASC,QAAT,QAAyB,YAAzB;AACA,SAASC,OAAT,QAAwB,UAAxB;AACA,OAAOC,GAAP,MAA0C,UAA1C;AAEA,OAAOC,UAAP,MAAuB,4BAAvB;AACA,SAASC,cAAT,EAAyBC,kBAAzB,QAAmD,qBAAnD;AACA,OAAOC,YAAP,MAAyB,8BAAzB;AACA,OAAOC,eAAP,MAA4B,mCAA5B;AACA,OAAOC,eAAP,MAA4B,kCAA5B;;AAMA,IAAMC,KAAK,GAAG,SAARA,KAAQ,OAAwD;AAAA;;AAAA,MAArDC,SAAqD,QAArDA,SAAqD;AAAA,MAA1CC,SAA0C,QAA1CA,SAA0C;AAAA,MAA/BC,MAA+B,QAA/BA,MAA+B;AACpE,MAAMC,SAAS,GAAGP,YAAY,EAA9B;AAEAR,EAAAA,SAAS,CAAC,YAAM;AACd,QAAMgB,SAAS,GAAGC,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAlB;AACA,QAAIF,SAAS,IAAIA,SAAS,CAACG,UAA3B,EAAuCH,SAAS,CAACG,UAAV,CAAqBC,WAArB,CAAiCJ,SAAjC;AACxC,GAHQ,EAGN,EAHM,CAAT;AAKA,MAAMK,UAAU,GAAGpB,OAAO,CAAC,YAAM;AAC/B,QAAMqB,QAAQ,QAAd;AAEA,WAAOA,QAAQ,GAAGR,MAAH,GAAYJ,eAAe,CAACI,MAAD,CAA1C;AACD,GAJyB,EAIvB,EAJuB,CAA1B;AAMA,MAAMS,MAAM,GAAGtB,OAAO,CAAC,YAAM;AAC3B,QAAMqB,QAAQ,QAAd;AAEA,WAAOA,QAAQ,GACXhB,cADW,GAEXG,eAAe,CAACF,kBAAD,CAAf,IAAuCD,cAF3C;AAGD,GANqB,EAMnB,EANmB,CAAtB;AAQAN,EAAAA,SAAS,CAAC,YAAM;AACde,IAAAA,SAAS,CAACQ,MAAD,CAAT;AACD,GAFQ,EAEN,CAACA,MAAD,CAFM,CAAT;AAIA,sBACE,QAAC,QAAD,kCAAcF,UAAd;AAAA,2BACE,QAAC,UAAD;AAAA,8BACE,QAAC,OAAD;AAAS,QAAA,KAAK,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA,eADF,eAEE,QAAC,SAAD,oBAAeR,SAAf;AAAA;AAAA;AAAA;AAAA,eAFF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,WADF;AAQD,CAlCD;;GAAMF,K;UACcH,Y;;;KADdG,K;;AAoCNA,KAAK,CAACa,eAAN;AAAA,uEAAwB,iBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAChBX,YAAAA,MADgB,GACPJ,eAAe,EADR;AAEtBe,YAAAA,GAAG,CAACX,MAAJ,GAAaA,MAAb;AAFsB;AAAA,mBAICV,GAAG,CAACoB,eAAJ,CAAoBC,GAApB,CAJD;;AAAA;AAIhBC,YAAAA,QAJgB;AAAA,6EAOjBA,QAPiB;AAQpBZ,cAAAA,MAAM,EAANA;AARoB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAxB;;AAAA;AAAA;AAAA;AAAA;;AAYA,eAAeH,KAAf","sourcesContent":["import React, { useEffect, useMemo } from 'react'\n\nimport { Provider } from 'mobx-react'\nimport { NextSeo } from 'next-seo'\nimport App, { AppContext, AppProps } from 'next/app'\n\nimport RootLayout from 'core/components/RootLayout'\nimport { DEFAULT_LOCALE, STORAGE_LOCALE_KEY } from 'core/i18n/constants'\nimport useSetLocale from 'core/i18n/hooks/useSetLocale'\nimport getLocalStorage from 'core/localStorage/getLocalStorage'\nimport initializeStore from 'core/store/utils/initializeStore'\n\ninterface Props {\n  stores: Record<string, any>\n}\n\nconst MyApp = ({ Component, pageProps, stores }: AppProps & Props) => {\n  const setLocale = useSetLocale()\n\n  useEffect(() => {\n    const jssStyles = document.querySelector('#jss-server-side')\n    if (jssStyles && jssStyles.parentNode) jssStyles.parentNode.removeChild(jssStyles)\n  }, [])\n\n  const mobxStores = useMemo(() => {\n    const isServer = typeof window === 'undefined'\n\n    return isServer ? stores : initializeStore(stores)\n  }, [])\n\n  const locale = useMemo(() => {\n    const isServer = typeof window === 'undefined'\n\n    return isServer\n      ? DEFAULT_LOCALE\n      : getLocalStorage(STORAGE_LOCALE_KEY) || DEFAULT_LOCALE\n  }, [])\n\n  useEffect(() => {\n    setLocale(locale)\n  }, [locale])\n\n  return (\n    <Provider {...mobxStores}>\n      <RootLayout>\n        <NextSeo title=\"Barcamp Bangkhen\" />\n        <Component {...pageProps} />\n      </RootLayout>\n    </Provider>\n  )\n}\n\nMyApp.getInitialProps = async (ctx: AppContext & Props) => {\n  const stores = initializeStore()\n  ctx.stores = stores\n\n  const appProps = await App.getInitialProps(ctx)\n\n  return {\n    ...appProps,\n    stores,\n  }\n}\n\nexport default MyApp\n"]},"metadata":{},"sourceType":"module"}